<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Medical Dashboard â€” Standalone (Converted)</title>
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
    
    :root{
      --blue-1:#0b3a66;
      --blue-2:#2c6fb6;
      --blue-3:#4ea1ff;
      --bg1:#eaf4ff;
      --card:#ffffff;
      --muted:#6b7280;
      --success:#00875a;
      --danger:#d64545;
      --glass: rgba(255,255,255,0.8);
    }
    
    /* AI Assistant Styling */
    .ai-assistant {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: linear-gradient(135deg, #4ea1ff, #7b1fa2);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
      z-index: 1000;
      transition: all 0.3s ease;
    }
    
    .ai-assistant:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 25px rgba(0,0,0,0.3);
    }
    
    .ai-chat-container {
      position: fixed;
      bottom: 90px;
      right: 20px;
      width: 350px;
      height: 450px;
      background: white;
      border-radius: 16px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.2);
      z-index: 999;
      overflow: hidden;
      display: none;
      flex-direction: column;
    }
    
    .ai-chat-header {
      background: linear-gradient(135deg, #4ea1ff, #7b1fa2);
      color: white;
      padding: 15px;
      font-weight: 600;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .ai-chat-messages {
      flex: 1;
      padding: 15px;
      overflow-y: auto;
    }
    
    .ai-chat-input {
      display: flex;
      padding: 10px;
      border-top: 1px solid #eee;
    }
    
    .ai-chat-input input {
      flex: 1;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 20px;
      margin-right: 10px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:'Poppins', Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      background-attachment: fixed;
      color:var(--blue-1);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:24px;
      position: relative;
      overflow-x: hidden;
    }
    
    /* Animated background elements */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
      z-index: -1;
    }
    .container{max-width:1100px;margin:0 auto}
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:24px}
    h1{margin:0;font-size:24px;letter-spacing:0.2px;font-weight:600;color:#000;text-shadow:1px 1px 2px rgba(0,0,0,0.1)}
    .card{
      background:rgba(255,255,255,0.85);
      border-radius:16px;
      padding:20px;
      box-shadow:0 8px 32px rgba(31,38,135,0.15);
      margin-bottom:20px;
      backdrop-filter:blur(8px);
      border:1px solid rgba(0,0,0,0.1);
      transition:transform 0.3s ease, box-shadow 0.3s ease;
    }
    .card:hover {
      transform:translateY(-5px);
      box-shadow:0 12px 36px rgba(31,38,135,0.25);
    }
    
    /* Icon styles */
    .icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--blue-2), var(--blue-3));
      color: white;
      margin-right: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    
    /* Specialized report icons */
    .icon.blood {
      background: linear-gradient(135deg, #d64545, #ff6b6b);
    }
    .icon.xray {
      background: linear-gradient(135deg, #2c3e50, #4a6572);
    }
    .icon.mri {
      background: linear-gradient(135deg, #4a148c, #7b1fa2);
    }
    .icon.ecg {
      background: linear-gradient(135deg, #388e3c, #66bb6a);
    }
    .icon.ultrasound {
      background: linear-gradient(135deg, #0277bd, #29b6f6);
    }
    .icon.ct-scan {
      background: linear-gradient(135deg, #6a1b9a, #9c27b0);
    }
    
    /* Report item styling */
    .report-item {
    display: flex;
    align-items: center;
    padding: 12px;
    border-radius: 8px;
    margin-bottom: 10px;
    background: rgba(255,255,255,0.9);
    border: 1px solid rgba(0,0,0,0.1);
    transition: all 0.3s ease;
  }
  .report-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  }
  
  .report-details-content {
    margin-top: 8px;
    padding: 8px;
    background: rgba(255,255,255,0.7);
    border-radius: 6px;
    border: 1px solid rgba(0,0,0,0.05);
  }
  
  .report-details-content p {
    margin: 4px 0;
  }
    
    /* Tab styling */
    .tabs {
      display: flex;
      margin-bottom: 15px;
      border-bottom: 1px solid rgba(0,0,0,0.1);
    }
    .tab {
      padding: 8px 16px;
      cursor: pointer;
      border-bottom: 2px solid transparent;
      transition: all 0.3s ease;
    }
    .tab.active {
      border-bottom: 2px solid var(--blue-3);
      font-weight: 500;
    }
    .tab:hover {
      background: rgba(0,0,0,0.05);
    }
    
    /* Login dialog sizing */
    .login-container {
      max-width: 50%;
      margin: 0 auto;
    }
    .row{display:flex;gap:16px;align-items:center}
    .col{flex:1}
    .small{font-size:14px;color:var(--muted);font-weight:300}
    .pill{
      display:inline-block;
      padding:10px 18px;
      border-radius:999px;
      border:1px solid rgba(0,0,0,0.1);
      cursor:pointer;
      background:rgba(255,255,255,0.5);
      color:#000;
      font-weight:500;
      transition:all 0.3s ease;
    }
    .pill:hover {
      background:rgba(255,255,255,0.7);
    }
    .pill.active{
      background:linear-gradient(90deg,var(--blue-2),var(--blue-3));
      color:white;
      border:none;
      box-shadow:0 8px 24px rgba(44,111,182,0.25);
    }
    .btn{
      display:inline-block;
      padding:10px 16px;
      border-radius:12px;
      border:none;
      cursor:pointer;
      background:linear-gradient(90deg,var(--blue-2),var(--blue-3));
      color:white;
      font-weight:600;
      transition:all 0.3s ease;
      box-shadow:0 4px 12px rgba(44,111,182,0.2);
    }
    .btn:hover {
      transform:translateY(-2px);
      box-shadow:0 6px 16px rgba(44,111,182,0.3);
    }
    .btn.ghost{
      background:rgba(255,255,255,0.7);
      color:#000;
      border:1px solid rgba(0,0,0,0.1);
      box-shadow:0 2px 4px rgba(0,0,0,0.05);
    }
    .btn.ghost:hover {
      background:rgba(255,255,255,0.9);
      transform: translateY(-2px);
    }
    .btn.warn{
      background:linear-gradient(90deg,var(--danger),#ff6b6b);
    }
    .btn.small{
      padding:8px 12px;
      font-size:14px;
      border-radius:8px;
    }
    input[type="text"], select, textarea{
      width:100%;
      padding:12px;
      border-radius:12px;
      border:1px solid rgba(0,0,0,0.1);
      background:rgba(255,255,255,0.7);
      font-size:15px;
      color:#000;
      backdrop-filter:blur(4px);
      transition:all 0.3s ease;
    }
    input[type="text"]:focus, select:focus, textarea:focus {
      outline:none;
      border-color:rgba(0,0,0,0.3);
      background:rgba(255,255,255,0.9);
      box-shadow:0 0 0 3px rgba(0,0,0,0.05);
    }
    label{
      display:block;
      margin-bottom:8px;
      font-size:14px;
      color:#000;
      font-weight:500;
    }
    .grid{display:grid;grid-template-columns:1fr 360px;gap:16px}
    .list{list-style:none;padding:0;margin:0}
    .list li{
      padding:14px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,0.2);
      margin-bottom:10px;
      background:rgba(255,255,255,0.1);
      backdrop-filter:blur(4px);
      transition:transform 0.3s ease;
    }
    .list li:hover {
      transform:translateY(-3px);
      background:rgba(255,255,255,0.15);
    }
    .muted{color:#000;font-size:14px}
    .report-name{font-weight:600;color:#000}
    .small-muted{color:#000;font-size:13px}
    .timeline-entry{
      padding:14px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,0.2);
      margin-bottom:10px;
      background:rgba(255,255,255,0.1);
      backdrop-filter:blur(4px);
      transition:transform 0.3s ease;
    }
    .timeline-entry:hover {
      transform:translateY(-3px);
      background:rgba(255,255,255,0.15);
    }
    .right{margin-left:auto}
    .flex{display:flex;gap:8px;align-items:center}
    .center{display:flex;align-items:center;justify-content:center}
    .link{color:var(--blue-2);cursor:pointer;text-decoration:underline}
    .footer-actions{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .small-note{font-size:12px;color:var(--muted)}
    .section-title{font-weight:700;margin-bottom:8px}
    .topbar{display:flex;gap:8px;align-items:center}
    .avatar{
      width:40px;
      height:40px;
      border-radius:999px;
      background:linear-gradient(90deg,var(--blue-2),var(--blue-3));
      display:inline-flex;
      align-items:center;
      justify-content:center;
      color:white;
      font-weight:700;
      box-shadow:0 4px 10px rgba(44,111,182,0.3);
    }
    .reset{
      background:rgba(255,255,255,0.1);
      border:1px dashed rgba(255,255,255,0.3);
      padding:8px 12px;
      border-radius:10px;
      font-size:14px;
      color:#fff;
      transition:all 0.3s ease;
    }
    .reset:hover {
      background:rgba(255,255,255,0.2);
    }
    footer.small{
      font-size:14px;
      color:#fff;
      opacity:0.7;
      margin-top:20px;
      text-align:center
    }
    @media (max-width:900px){
      .grid{grid-template-columns:1fr}
      header{flex-direction:column;align-items:flex-start;gap:8px}
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div>
        <h1>Medical Dashboard â€” Standalone</h1>
       
      <div class="topbar">
       
        <button id="resetBtn" class="reset">Reset app data</button>
      </div>
    </header>

    <main id="app"></main>

   
  
<script>
/* ---------------------------
  Single-file Medical Dashboard
   - Role selection (patient/doctor)
   - Login: choose mock user
   - Patient dashboard: reports + timeline (edit/delete only by author)
   - Doctor dashboard: view patients, add notes & reports
   - Persistence via localStorage (key: medical_app_v1)
   - Uploaded files stored as data URLs (Base64)
--------------------------- */

const STORAGE_KEY = 'medical_app_v1';

// default mock data
const defaultState = {
  currentRole: null,   // 'patient' | 'doctor'
  currentUser: null,   // {id, name, role}
  patients: [
    {
      id: 'p1',
      name: 'Asha Patil',
      age: 6,
      gender: 'F',
      reports: [
        { id: 'r1', name: 'Growth Chart.pdf', date: '2025-09-01', dataUrl: null }
      ],
      timeline: [
        { id: 't1', authorId: 'p1', authorName: 'Asha Patil', content: 'Fever cleared after medicine.', date: '2025-09-05T10:00:00Z' }
      ]
    },
    {
      id: 'p2',
      name: 'Rohan Sharma',
      age: 7,
      gender: 'M',
      reports: [],
      timeline: []
    }
  ],
  doctors: [
    { id: 'd1', name: 'Dr. Rahul Deshmukh', specialization: 'Pediatrics' },
    { id: 'd2', name: 'Dr. Meera Joshi', specialization: 'General Medicine' }
  ],
  healthQuotes: [
    "The greatest wealth is health. â€” Virgil",
    "Health is not valued until sickness comes. â€” Thomas Fuller",
    "Take care of your body. It's the only place you have to live. â€” Jim Rohn",
    "An apple a day keeps the doctor away.",
    "Early to bed and early to rise makes a man healthy, wealthy, and wise. â€” Benjamin Franklin",
    "The first wealth is health. â€” Ralph Waldo Emerson",
    "Health is a state of complete harmony of the body, mind, and spirit.",
    "Your health is an investment, not an expense.",
    "Happiness is the highest form of health. â€” Dalai Lama",
    "A healthy outside starts from the inside. â€” Robert Urich"
  ],
  healthTips: [
    "Drink at least 8 glasses of water daily",
    "Include 30 minutes of exercise in your daily routine",
    "Eat a rainbow of fruits and vegetables every day",
    "Practice mindfulness or meditation for 10 minutes daily",
    "Get 7-8 hours of quality sleep each night",
    "Limit processed foods and added sugars",
    "Take short breaks during work to reduce eye strain",
    "Practice good posture while sitting and standing",
    "Wash your hands frequently to prevent infections",
    "Schedule regular health check-ups"
  ]
};

let state = loadState();

// Save to localStorage
function saveState(){
  try{
    localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
  }catch(e){
    console.error('Failed to save state:', e);
  }
}
function loadState(){
  const raw = localStorage.getItem(STORAGE_KEY);
  if(!raw) {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(defaultState));
    return JSON.parse(JSON.stringify(defaultState));
  }
  try{
    return JSON.parse(raw);
  }catch(e){
    console.warn('Corrupt stored state, resetting to default.');
    localStorage.setItem(STORAGE_KEY, JSON.stringify(defaultState));
    return JSON.parse(JSON.stringify(defaultState));
  }
}

const app = document.getElementById('app');
const resetBtn = document.getElementById('resetBtn');
resetBtn.addEventListener('click', ()=>{
  if(!confirm('Reset demo data? This will erase local changes.')) return;
  localStorage.removeItem(STORAGE_KEY);
  state = loadState();
  renderApp();
});

function renderApp(){
  if(!state.currentRole || !state.currentUser){
    renderRoleAndAuth();
  }else if(state.currentRole === 'patient'){
    renderPatientDashboard(state.currentUser.id);
  }else if(state.currentRole === 'doctor'){
    renderDoctorDashboard(state.currentUser.id);
  }
  
  // Add health quote after rendering dashboard
  displayDailyHealthQuote();
}

/* ---------------- Role selection & login ---------------- */
function renderRoleAndAuth(){
  app.innerHTML = `
    <div class="login-container">
      <div class="card">
        <div style="display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px">
          <div>
            <div class="section-title"><i class="fas fa-user-md"></i> Choose role</div>
            <div id="rolePills" style="display:flex;gap:8px">
              <div class="pill ${state.currentRole==='patient'?'active':''}" data-role="patient"><i class="fas fa-user"></i> Patient</div>
              <div class="pill ${state.currentRole==='doctor'?'active':''}" data-role="doctor"><i class="fas fa-stethoscope"></i> Doctor</div>
            </div>
          </div>
          <div class="small-muted">This demo stores data locally only.</div>
        </div>
        <hr style="margin:12px 0;border:none;border-top:1px solid #eaf4ff">
        <div style="display:grid;grid-template-columns:1fr;gap:16px">
          <div>
            <div class="section-title"><i class="fas fa-sign-in-alt"></i> Sign in</div>
            <div id="authArea" class="card" style="padding:12px"></div>
          </div>
          <div>
            <div class="section-title"><i class="fas fa-info-circle"></i> About</div>
            <div class="small-muted card" style="padding:12px">
              <p><strong>How to use</strong></p>
              <ul class="small-muted">
              <li>Pick a role (Patient or Doctor).</li>
              <li>Select a mock user, then press <em>Login</em>.</li>
              <li>Try uploading reports or adding timeline notes.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  `;

  // role pill clicks
  document.querySelectorAll('#rolePills .pill').forEach(el=>{
    el.addEventListener('click', ()=>{
      document.querySelectorAll('#rolePills .pill').forEach(p=>p.classList.remove('active'));
      el.classList.add('active');
      state.currentRole = el.dataset.role;
      saveState();
      renderRoleAndAuth();
    })
  });

  renderAuthArea();
}

function renderAuthArea(){
  const area = document.getElementById('authArea');
  if(state.currentRole === 'patient'){
    // populate patient select
    area.innerHTML = `
      <div class="tabs">
        <div class="tab active" id="loginTab">Login</div>
        <div class="tab" id="signupTab">Sign Up</div>
      </div>
      
      <div id="loginForm">
        <label><i class="fas fa-user"></i> Select patient</label>
        <select id="patientSelect"></select>
        <div style="height:8px"></div>
        <button id="loginPatient" class="btn"><i class="fas fa-sign-in-alt"></i> Login as Patient</button>
      </div>
      
      <div id="signupForm" style="display:none">
        <div style="margin-bottom:12px">
          <label><i class="fas fa-user"></i> Full Name</label>
          <input type="text" id="signupName" placeholder="Enter your full name">
        </div>
        <div style="margin-bottom:12px">
          <label><i class="fas fa-envelope"></i> Email</label>
          <input type="text" id="signupEmail" placeholder="Enter your email">
        </div>
        <div style="margin-bottom:12px">
          <label><i class="fas fa-birthday-cake"></i> Age</label>
          <input type="number" id="signupAge" placeholder="Your age">
        </div>
        <div style="margin-bottom:12px">
          <label><i class="fas fa-lock"></i> Password</label>
          <input type="password" id="signupPassword" placeholder="Create a password">
        </div>
        <button class="btn" id="signupBtn"><i class="fas fa-user-plus"></i> Sign Up</button>
      </div>
    `;
    const sel = area.querySelector('#patientSelect');
    state.patients.forEach(p=>{
      const opt = document.createElement('option');
      opt.value = p.id;
      opt.textContent = p.name + ' â€” age ' + p.age;
      sel.appendChild(opt);
    });
    area.querySelector('#loginPatient').addEventListener('click', ()=>{
      state.currentUser = { id: sel.value, name: state.patients.find(x=>x.id===sel.value).name, role:'patient' };
      saveState();
      renderApp();
    });
  }else if(state.currentRole === 'doctor'){
    area.innerHTML = `
      <div class="tabs">
        <div class="tab active" id="loginTabDoc">Login</div>
        <div class="tab" id="signupTabDoc">Sign Up</div>
      </div>
      
      <div id="loginFormDoc">
        <label><i class="fas fa-user-md"></i> Select doctor</label>	
        <select id="doctorSelect"></select>
        <div style="height:8px"></div>
        <button id="loginDoctor" class="btn"><i class="fas fa-sign-in-alt"></i> Login as Doctor</button>
      </div>
      
      <div id="signupFormDoc" style="display:none">
        <div style="margin-bottom:12px">
          <label><i class="fas fa-user-md"></i> Full Name</label>
          <input type="text" id="signupNameDoc" placeholder="Enter your full name">
        </div>
        <div style="margin-bottom:12px">
          <label><i class="fas fa-envelope"></i> Email</label>
          <input type="text" id="signupEmailDoc" placeholder="Enter your email">
        </div>
        <div style="margin-bottom:12px">
          <label><i class="fas fa-graduation-cap"></i> Qualification</label>
          <input type="text" id="signupQualification" placeholder="MD, Specialization">
        </div>
        <div style="margin-bottom:12px">
          <label><i class="fas fa-stethoscope"></i> Specialization</label>
          <select id="signupSpecialization">
            <option value="">-- Select Specialization --</option>
            <option value="Cardiology">Cardiology</option>
            <option value="Neurology">Neurology</option>
            <option value="Pediatrics">Pediatrics</option>
            <option value="Orthopedics">Orthopedics</option>
            <option value="General Medicine">General Medicine</option>
          </select>
        </div>
        <div style="margin-bottom:12px">
          <label><i class="fas fa-lock"></i> Password</label>
          <input type="password" id="signupPasswordDoc" placeholder="Create a password">
        </div>
        <button class="btn" id="signupBtnDoc"><i class="fas fa-user-plus"></i> Sign Up</button>
      </div>
    `;
    const sel = area.querySelector('#doctorSelect');
    state.doctors.forEach(d=>{
      const opt = document.createElement('option');
      opt.value = d.id;
      opt.textContent = d.name + ' â€” ' + d.specialization;
      sel.appendChild(opt);
    });
    area.querySelector('#loginDoctor').addEventListener('click', ()=>{
      state.currentUser = { id: sel.value, name: state.doctors.find(x=>x.id===sel.value).name, role:'doctor' };
      saveState();
      renderApp();
    });
  }else{
    area.innerHTML = `<div class="small-muted">Please pick a role above to continue.</div>`;
  }

  // quick guest button
  const btn = document.createElement('div');
  btn.className = 'small-note';
  btn.style.marginTop = '10px';
  btn.innerHTML = `<div>Need a test account? Pick a role and use the lists above.</div>`;
  area.appendChild(btn);
}

/* ---------------- Patient Dashboard ---------------- */
function renderPatientDashboard(patientId){
  const patient = state.patients.find(p=>p.id===patientId);
  if(!patient){
    alert('Patient not found.');
    state.currentRole = null; state.currentUser = null; saveState(); renderApp(); return;
  }

  app.innerHTML = `
    <div class="grid">
      <div>
        <div class="card">
          <div style="display:flex;align-items:center;gap:12px">
            <div class="avatar">${patient.name.split(' ').map(s=>s[0]).slice(0,2).join('')}</div>
            <div>
              <div style="font-weight:700">${patient.name}</div>
              <div class="small-muted">Age ${patient.age} â€¢ ${patient.gender}</div>
            </div>
            <div class="right">
              <div class="flex">
                <div class="small-muted">Signed in as</div>
                <strong style="margin-left:8px">${state.currentUser.name}</strong>
                <button id="logout" class="btn ghost small" style="margin-left:12px"><i class="fas fa-sign-out-alt"></i> Logout</button>
              </div>
            </div>
          </div>
        </div>
        
        <div class="card" style="margin-top:15px">
          <div class="section-title"><i class="fas fa-heartbeat"></i> Health Overview</div>
          <div style="display:flex;gap:10px;margin-top:15px">
            <div style="flex:1;text-align:center;padding:15px;background:rgba(255,255,255,0.7);border-radius:10px">
              <div><i class="fas fa-weight" style="font-size:24px;color:var(--blue-2)"></i></div>
              <div style="font-size:20px;font-weight:600;margin:5px 0">68 kg</div>
              <div class="small-muted">Weight</div>
            </div>
            <div style="flex:1;text-align:center;padding:15px;background:rgba(255,255,255,0.7);border-radius:10px">
              <div><i class="fas fa-ruler-vertical" style="font-size:24px;color:var(--blue-2)"></i></div>
              <div style="font-size:20px;font-weight:600;margin:5px 0">175 cm</div>
              <div class="small-muted">Height</div>
            </div>
            <div style="flex:1;text-align:center;padding:15px;background:rgba(255,255,255,0.7);border-radius:10px">
              <div><i class="fas fa-heartbeat" style="font-size:24px;color:var(--blue-2)"></i></div>
              <div style="font-size:20px;font-weight:600;margin:5px 0">72 bpm</div>
              <div class="small-muted">Heart Rate</div>
            </div>
          </div>
          <div style="margin-top:15px;padding:10px;background:rgba(255,255,255,0.7);border-radius:10px">
            <div style="font-weight:600;margin-bottom:5px"><i class="fas fa-calendar-check"></i> Upcoming Appointment</div>
            <div>Dr. Meera Joshi - General Medicine</div>
            <div class="small-muted">Tomorrow, 10:30 AM</div>
          </div>
        </div>

        <div class="card">
          <div class="section-title"><i class="fas fa-file-medical"></i> Reports</div>
          <div class="small-muted">Upload small PDFs or images â€” they're saved locally.</div>
          <div style="height:10px"></div>
          <input id="fileInput" type="file" accept="application/pdf,image/*"/>
          <div style="height:8px"></div>
          <button id="uploadBtn" class="btn"><i class="fas fa-upload"></i> Upload Report</button>
          <hr style="margin:12px 0;border:none;border-top:1px solid #f0f6ff">
          <ul id="reportsList" class="list">
            <div class="report-item">
              <div class="icon blood"><i class="fas fa-tint"></i></div>
              <div>
                <div class="report-name">Blood Test Report</div>
                <div class="small-muted">Date: 15 May 2023</div>
              </div>
              <div style="margin-left:auto">
                <button class="btn small" onclick="viewReport('blood-test')"><i class="fas fa-eye"></i> View</button>
                <button class="btn small ghost" onclick="downloadReport('blood-test')"><i class="fas fa-download"></i></button>
              </div>
            </div>
            
            <div class="report-item">
              <div class="icon xray"><i class="fas fa-x-ray"></i></div>
              <div>
                <div class="report-name">X-Ray Report</div>
                <div class="small-muted">Date: 10 April 2023</div>
              </div>
              <div style="margin-left:auto">
                <button class="btn small" onclick="viewReport('x-ray')"><i class="fas fa-eye"></i> View</button>
                <button class="btn small ghost" onclick="downloadReport('x-ray')"><i class="fas fa-download"></i></button>
              </div>
            </div>
            
            <div class="report-item">
              <div class="icon mri"><i class="fas fa-brain"></i></div>
              <div>
                <div class="report-name">MRI Scan Report</div>
                <div class="small-muted">Date: 5 March 2023</div>
              </div>
              <div style="margin-left:auto">
                <button class="btn small" onclick="viewReport('mri-scan')"><i class="fas fa-eye"></i> View</button>
                <button class="btn small ghost" onclick="downloadReport('mri-scan')"><i class="fas fa-download"></i></button>
              </div>
            </div>
            
            <div class="report-item">
              <div class="icon ecg"><i class="fas fa-heartbeat"></i></div>
              <div>
                <div class="report-name">ECG Report</div>
                <div class="small-muted">Date: 20 February 2023</div>
              </div>
              <div style="margin-left:auto">
                <button class="btn small" onclick="viewReport('ecg')"><i class="fas fa-eye"></i> View</button>
                <button class="btn small ghost" onclick="downloadReport('ecg')"><i class="fas fa-download"></i></button>
              </div>
            </div>
            
            <div class="report-item">
              <div class="icon ultrasound"><i class="fas fa-wave-square"></i></div>
              <div>
                <div class="report-name">Ultrasound Report</div>
                <div class="small-muted">Date: 10 January 2023</div>
              </div>
              <div style="margin-left:auto">
                <button class="btn small" onclick="viewReport('ultrasound')"><i class="fas fa-eye"></i> View</button>
                <button class="btn small ghost" onclick="downloadReport('ultrasound')"><i class="fas fa-download"></i></button>
              </div>
            </div>
          </ul>
        </div>

        <div class="card">
          <div class="section-title"><i class="fas fa-history"></i> Timeline / Comments</div>
          <div class="small-muted">Add notes or comments. Only the author can edit or delete their comment.</div>
          <div style="height:8px"></div>
          <textarea id="timelineInput" rows="3" placeholder="Write a note..."></textarea>
          <div style="height:8px"></div>
          <div class="footer-actions">
            <button id="addTimelineBtn" class="btn"><i class="fas fa-plus"></i> Add Note</button>
            <div class="small-note">Notes are saved locally.</div>
          </div>
          <hr style="margin:12px 0;border:none;border-top:1px solid #f0f6ff">
          <div id="timelineList"></div>
        </div>
      </div>

      <div>
        <div class="card">
          <div class="section-title">Patient Info</div>
          <div class="small-muted">Quick view</div>
          <div style="height:8px"></div>
          <div><strong>Name:</strong> ${patient.name}</div>
          <div><strong>Age:</strong> ${patient.age}</div>
          <div><strong>Gender:</strong> ${patient.gender}</div>
          <div style="height:12px"></div>
          <button id="downloadAll" class="btn ghost small">Download all reports (single open)</button>
        </div>

        <div class="card">
          <div class="section-title">Help & Info</div>
          <div class="small-muted">This is a demo UI built into a single HTML file. For production you'd use a server to store files and real authentication.</div>
        </div>
      </div>
    </div>
  `;

  // attach handlers
  document.getElementById('logout').addEventListener('click', ()=>{
    state.currentRole = null; state.currentUser = null; saveState(); renderApp();
  });

  // Reports rendering
  function renderReports(){
    const list = document.getElementById('reportsList');
    list.innerHTML = '';
    if(patient.reports.length === 0){
      list.innerHTML = '<li class="small-muted">No reports yet.</li>';
      return;
    }
    patient.reports.slice().reverse().forEach(r=>{
      const li = document.createElement('li');
      li.innerHTML = `
        <div style="display:flex;align-items:center;gap:8px">
          <div style="flex:1">
            <div class="report-name">${escapeHtml(r.name)}</div>
            <div class="small-muted">${new Date(r.date).toLocaleString()}</div>
          </div>
          <div class="flex">
            ${r.dataUrl ? `<a class="link" target="_blank" href="${r.dataUrl}" download="${escapeHtml(r.name)}">Open</a>` : ''}
            <button class="btn ghost small" data-id="${r.id}">Delete</button>
          </div>
        </div>
      `;
      list.appendChild(li);
      li.querySelector('.btn')?.addEventListener('click', ()=>{
        if(!confirm('Delete this report?')) return;
        const idx = patient.reports.findIndex(x=>x.id===r.id);
        if(idx>=0) patient.reports.splice(idx,1);
        saveState();
        renderReports();
      });
    })
  }
  renderReports();

  // Upload
  document.getElementById('uploadBtn').addEventListener('click', ()=>{
    const inp = document.getElementById('fileInput');
    if(!inp.files || inp.files.length === 0){
      alert('Pick a file first.');
      return;
    }
    const file = inp.files[0];
    const reader = new FileReader();
    reader.onload = (e)=>{
      const dataUrl = e.target.result;
      const rep = { id: 'r'+Date.now(), name: file.name, date: new Date().toISOString(), dataUrl };
      patient.reports.push(rep);
      saveState();
      inp.value = '';
      renderReports();
      alert('Uploaded and saved locally.');
    };
    reader.readAsDataURL(file);
  });

  // Timeline
  function renderTimeline(){
    const container = document.getElementById('timelineList');
    container.innerHTML = '';
    if(!patient.timeline || patient.timeline.length===0){
      container.innerHTML = '<div class="small-muted">No notes yet.</div>';
      return;
    }
    patient.timeline.slice().reverse().forEach(entry=>{
      const div = document.createElement('div');
      div.className = 'timeline-entry';
      const isAuthor = entry.authorId === state.currentUser.id;
      div.innerHTML = `
        <div style="display:flex;align-items:center;gap:8px">
          <div style="font-weight:700">${escapeHtml(entry.authorName)}</div>
          <div class="small-muted" style="margin-left:6px">${new Date(entry.date).toLocaleString()}</div>
          <div class="right"></div>
        </div>
        <div style="margin-top:8px" id="content-${entry.id}">${escapeHtml(entry.content)}</div>
        <div style="margin-top:8px" class="flex">
          ${isAuthor ? `<button data-edit="${entry.id}" class="btn small ghost">Edit</button>
          <button data-del="${entry.id}" class="btn small warn">Delete</button>` : ''}
        </div>
      `;
      container.appendChild(div);
      if(isAuthor){
        div.querySelector('[data-del]')?.addEventListener('click', ()=>{
          if(!confirm('Delete your note?')) return;
          const idx = patient.timeline.findIndex(x=>x.id===entry.id);
          if(idx>=0) patient.timeline.splice(idx,1);
          saveState();
          renderTimeline();
        });
        div.querySelector('[data-edit]')?.addEventListener('click', ()=>{
          const contentDiv = div.querySelector('#content-'+entry.id);
          const old = entry.content;
          contentDiv.innerHTML = `<textarea id="editArea-${entry.id}" rows="3">${escapeHtml(old)}</textarea><div style="height:8px"></div>
            <div class="flex"><button id="saveEdit-${entry.id}" class="btn small">Save</button><button id="cancelEdit-${entry.id}" class="btn small ghost">Cancel</button></div>`;
          div.querySelector('#cancelEdit-'+entry.id).addEventListener('click', renderTimeline);
          div.querySelector('#saveEdit-'+entry.id).addEventListener('click', ()=>{
            const newVal = div.querySelector('#editArea-'+entry.id).value.trim();
            if(newVal.length===0){ alert('Note is empty'); return; }
            const item = patient.timeline.find(x=>x.id===entry.id);
            item.content = newVal;
            item.date = new Date().toISOString();
            saveState();
            renderTimeline();
          });
        });
      }
    })
  }
  renderTimeline();

  // Add timeline
  document.getElementById('addTimelineBtn').addEventListener('click', ()=>{
    const txt = document.getElementById('timelineInput').value.trim();
    if(txt.length===0){ alert('Write something first.'); return; }
    const entry = {
      id: 't'+Date.now(),
      authorId: state.currentUser.id,
      authorName: state.currentUser.name,
      content: txt,
      date: new Date().toISOString()
    };
    if(!patient.timeline) patient.timeline = [];
    patient.timeline.push(entry);
    document.getElementById('timelineInput').value = '';
    saveState();
    renderTimeline();
  });

  // Download all (open first report)
  document.getElementById('downloadAll').addEventListener('click', ()=>{
    if(patient.reports.length === 0){ alert('No reports'); return; }
    const r = patient.reports[patient.reports.length-1];
    if(r.dataUrl){
      window.open(r.dataUrl, '_blank');
    }else{
      alert('Report has no data saved (was created as placeholder).');
    }
  });

}

/* ---------------- Doctor Dashboard ---------------- */
function renderDoctorDashboard(doctorId){
  const doctor = state.doctors.find(d=>d.id===doctorId);
  if(!doctor){
    alert('Doctor not found.'); state.currentRole=null; state.currentUser=null; saveState(); renderApp(); return;
  }

  app.innerHTML = `
    <div style="display:flex;gap:16px;flex-wrap:wrap">
      <div style="flex:1">
        <div class="card">
          <div style="display:flex;align-items:center;gap:12px">
            <div class="avatar">${doctor.name.split(' ').map(s=>s[0]).slice(0,2).join('')}</div>
            <div>
              <div style="font-weight:700">${doctor.name}</div>
              <div class="small-muted"><i class="fas fa-stethoscope"></i> ${doctor.specialization}</div>
            </div>
            <div class="right">
              <div class="flex">
                <div class="small-muted">Signed in as</div>
                <strong style="margin-left:8px">${state.currentUser.name}</strong>
                <button id="logoutDoc" class="btn ghost small" style="margin-left:12px"><i class="fas fa-sign-out-alt"></i> Logout</button>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="section-title"><i class="fas fa-users"></i> Patients</div>
          <div class="small-muted">Click a patient to open their record.</div>
          <ul id="doctorPatientList" class="list"></ul>
        </div>
      </div>

      <div style="width:480px">
        <div id="patientViewer" class="card">
          <div class="small-muted">Select a patient to view details</div>
        </div>
      </div>
    </div>
  `;

  document.getElementById('logoutDoc').addEventListener('click', ()=>{
    state.currentRole = null; state.currentUser = null; saveState(); renderApp();
  });

  const list = document.getElementById('doctorPatientList');
  list.innerHTML = '';
  state.patients.forEach(p=>{
    const li = document.createElement('li');
    li.innerHTML = `<div style="display:flex;gap:8px;align-items:center">
      <div style="flex:1"><strong>${escapeHtml(p.name)}</strong><div class="small-muted"><i class="fas fa-user"></i> Age ${p.age}</div></div>
      <div><button class="btn ghost small" data-id="${p.id}"><i class="fas fa-folder-open"></i> Open</button></div>
    </div>`;
    list.appendChild(li);
    li.querySelector('button')?.addEventListener('click', ()=>{
      renderPatientViewer(p.id);
    });
  });
  
  // Add function to view full report details
  function viewFullReport(reportId) {
    alert(`Viewing full report: ${reportId}`);
    // In a real app, this would open a modal or navigate to a detailed view
  }

  function renderPatientViewer(patientId){
    const p = state.patients.find(x=>x.id===patientId);
    if(!p) return;
    const viewer = document.getElementById('patientViewer');
    viewer.innerHTML = `
      <div style="display:flex;align-items:center;gap:12px">
        <div class="avatar">${p.name.split(' ').map(s=>s[0]).slice(0,2).join('')}</div>
        <div>
          <div style="font-weight:700">${p.name}</div>
          <div class="small-muted">Age ${p.age} â€¢ ${p.gender}</div>
        </div>
      </div>
      <hr style="margin:12px 0;border:none;border-top:1px solid #eef7ff">
      <div class="section-title">Reports</div>
      <div id="docReportsList" style="margin-bottom:8px"></div>

      <div style="height:8px"></div>
      <label>Upload report for ${escapeHtml(p.name)}</label>
      <input id="docFileInput" type="file" accept="application/pdf,image/*"/>
      <div style="height:8px"></div>
      <button id="docUploadBtn" class="btn">Upload</button>

      <hr style="margin:12px 0;border:none;border-top:1px solid #eef7ff">
      <div class="section-title">Add a note / record</div>
      <textarea id="docNote" rows="3" placeholder="Write findings or instructions..."></textarea>
      <div style="height:8px"></div>
      <button id="addNoteBtn" class="btn">Add Note</button>
      <div style="height:12px"></div>
      <div class="section-title">Timeline</div>
      <div id="docTimeline"></div>
    `;

    // render reports
    function renderDocs(){
      const cont = document.getElementById('docReportsList');
      cont.innerHTML = '';
      if(!p.reports || p.reports.length===0){ cont.innerHTML = '<div class="small-muted">No reports</div>'; return; }
      p.reports.slice().reverse().forEach(r=>{
        const div = document.createElement('div');
        div.style.display='flex'; div.style.justifyContent='space-between'; div.style.alignItems='center'; div.style.padding='6px 0';
        div.innerHTML = `<div><div class="report-name">${escapeHtml(r.name)}</div><div class="small-muted">${new Date(r.date).toLocaleString()}</div></div>
          <div class="flex">${r.dataUrl ? `<a class="link" target="_blank" href="${r.dataUrl}" download="${escapeHtml(r.name)}">Open</a>` : ''}</div>`;
        cont.appendChild(div);
      })
    }
    renderDocs();

    // upload
    viewer.querySelector('#docUploadBtn').addEventListener('click', ()=>{
      const inp = viewer.querySelector('#docFileInput');
      if(!inp.files || inp.files.length===0){ alert('Choose file'); return; }
      const file = inp.files[0];
      const reader = new FileReader();
      reader.onload = (e)=>{
        const d = e.target.result;
        const rep = { id: 'r'+Date.now(), name: file.name, date: new Date().toISOString(), dataUrl: d};
        p.reports.push(rep);
        saveState();
        renderDocs();
        alert('Report uploaded for ' + p.name);
      };
      reader.readAsDataURL(file);
    });

    // add note
    viewer.querySelector('#addNoteBtn').addEventListener('click', ()=>{
      const val = viewer.querySelector('#docNote').value.trim();
      if(val.length===0){ alert('Write a note first'); return; }
      const entry = { id: 't'+Date.now(), authorId: state.currentUser.id, authorName: state.currentUser.name, content: val, date: new Date().toISOString()};
      if(!p.timeline) p.timeline = [];
      p.timeline.push(entry);
      saveState();
      viewer.querySelector('#docNote').value = '';
      renderDocTimeline();
    });

    function renderDocTimeline(){
      const tcont = viewer.querySelector('#docTimeline');
      tcont.innerHTML = '';
      if(!p.timeline || p.timeline.length===0){ tcont.innerHTML = '<div class="small-muted">No timeline notes</div>'; return; }
      p.timeline.slice().reverse().forEach(e=>{
        const d = document.createElement('div');
        d.className = 'timeline-entry';
        d.innerHTML = `<div style="display:flex;align-items:center;gap:8px"><div style="font-weight:700">${escapeHtml(e.authorName)}</div><div class="small-muted">${new Date(e.date).toLocaleString()}</div></div>
          <div style="margin-top:8px">${escapeHtml(e.content)}</div>`;
        tcont.appendChild(d);
      });
    }
    renderDocTimeline();
  }
}

/* ---------- small helpers ---------- */

// Basic HTML escaper
function escapeHtml(s){
  if(!s) return '';
  return s.toString().replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;').replaceAll('"','&quot;');
}

// Functions for report handling
function viewReport(reportId) {
  alert(`Viewing report: ${reportId}`);
  // In a real app, this would open the report in a viewer
}

function downloadReport(reportId) {
  alert(`Downloading report: ${reportId}`);
  // In a real app, this would trigger a download
}

// Tab switching functionality
document.addEventListener('click', function(e) {
  // Login/Signup tabs for patients
  if (e.target.id === 'loginTab') {
    document.getElementById('loginForm').style.display = 'block';
    document.getElementById('signupForm').style.display = 'none';
    document.getElementById('loginTab').classList.add('active');
    document.getElementById('signupTab').classList.remove('active');
  }
  if (e.target.id === 'signupTab') {
    document.getElementById('loginForm').style.display = 'none';
    document.getElementById('signupForm').style.display = 'block';
    document.getElementById('loginTab').classList.remove('active');
    document.getElementById('signupTab').classList.add('active');
  }
  
  // Login/Signup tabs for doctors
  if (e.target.id === 'loginTabDoc') {
    document.getElementById('loginFormDoc').style.display = 'block';
    document.getElementById('signupFormDoc').style.display = 'none';
    document.getElementById('loginTabDoc').classList.add('active');
    document.getElementById('signupTabDoc').classList.remove('active');
  }
  if (e.target.id === 'signupTabDoc') {
    document.getElementById('loginFormDoc').style.display = 'none';
    document.getElementById('signupFormDoc').style.display = 'block';
    document.getElementById('loginTabDoc').classList.remove('active');
    document.getElementById('signupTabDoc').classList.add('active');
  }
});

// Function to display daily health quote
function displayDailyHealthQuote() {
  // Create a container for the quote if it doesn't exist
  if (!document.getElementById('health-quote-container')) {
    const quoteContainer = document.createElement('div');
    quoteContainer.id = 'health-quote-container';
    quoteContainer.className = 'card';
    quoteContainer.style.marginTop = '20px';
    quoteContainer.style.textAlign = 'center';
    quoteContainer.style.fontStyle = 'italic';
    
    // Get a random quote
    const quotes = state.healthQuotes || [];
    const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
    
    quoteContainer.innerHTML = `
      <div class="section-title"><i class="fas fa-heartbeat"></i> Daily Health Quote</div>
      <div style="padding: 10px;">${randomQuote || "Your health is your wealth."}</div>
    `;
    
    // Append to the end of the app container
    document.getElementById('app').appendChild(quoteContainer);
  }
}

// initial render
renderApp();
// AI Health Assistant
  function initAIAssistant() {
    // Create AI assistant button
    const aiButton = document.createElement('div');
    aiButton.className = 'ai-assistant';
    aiButton.innerHTML = '<i class="fas fa-robot"></i>';
    aiButton.onclick = toggleAIChat;
    document.body.appendChild(aiButton);
    
    // Create AI chat container
    const aiChatContainer = document.createElement('div');
    aiChatContainer.className = 'ai-chat-container';
    aiChatContainer.id = 'ai-chat';
    aiChatContainer.innerHTML = `
      <div class="ai-chat-header">
        <div>Health AI Assistant</div>
        <div style="cursor:pointer" onclick="toggleAIChat()"><i class="fas fa-times"></i></div>
      </div>
      <div class="ai-chat-messages" id="ai-messages">
        <div style="padding:10px;background:#f0f4ff;border-radius:10px;margin-bottom:10px">
          Hello! I'm your health assistant. How can I help you today?
        </div>
      </div>
      <div class="ai-chat-input">
        <input type="text" id="ai-input" placeholder="Ask a health question..." onkeypress="if(event.key==='Enter')sendAIMessage()">
        <button class="btn" onclick="sendAIMessage()"><i class="fas fa-paper-plane"></i></button>
      </div>
    `;
    document.body.appendChild(aiChatContainer);
  }
  
  function toggleAIChat() {
    const chat = document.getElementById('ai-chat');
    if (chat.style.display === 'flex') {
      chat.style.display = 'none';
    } else {
      chat.style.display = 'flex';
      document.getElementById('ai-input').focus();
    }
  }
  
  function sendAIMessage() {
    const input = document.getElementById('ai-input');
    const message = input.value.trim();
    if (!message) return;
    
    // Add user message
    const messagesContainer = document.getElementById('ai-messages');
    messagesContainer.innerHTML += `
      <div style="padding:10px;background:#e1f5fe;border-radius:10px;margin-bottom:10px;text-align:right">
        ${message}
      </div>
    `;
    
    // Clear input
    input.value = '';
    
    // Simulate AI response
    setTimeout(() => {
      const responses = [
        "Based on your symptoms, I recommend consulting with your doctor for a proper diagnosis.",
        "Remember to stay hydrated and get plenty of rest.",
        "Regular exercise can help improve your overall health and wellbeing.",
        "A balanced diet rich in fruits and vegetables is essential for good health.",
        "It's important to take your medications as prescribed by your doctor.",
        "Regular health check-ups are important for preventive care.",
        "I can help you track your health metrics and remind you of appointments."
      ];
      
      // Get random tip
      const randomTip = state.healthTips[Math.floor(Math.random() * state.healthTips.length)];
      
      // Add AI response
      messagesContainer.innerHTML += `
        <div style="padding:10px;background:#f0f4ff;border-radius:10px;margin-bottom:10px">
          ${responses[Math.floor(Math.random() * responses.length)]}<br><br>
          <strong>Health Tip:</strong> ${randomTip}
        </div>
      `;
      
      // Scroll to bottom
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }, 1000);
    
    // Scroll to bottom
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
  }
  
  // Initialize AI assistant
  initAIAssistant();
  </script>
</body>
</html>
